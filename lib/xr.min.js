!function(a,b){if("function"==typeof define&&define.amd)define(["exports","module"],b);else if("undefined"!=typeof exports&&"undefined"!=typeof module)b(exports,module);else{var c={exports:{}};b(c.exports,c),a.xr=c.exports}}(this,function(a,b){"use strict";function f(a){return{status:a.status,response:a.response,xhr:a}}function g(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];for(var e in c)if({}.hasOwnProperty.call(c,e)){var f=c[e];if("object"==typeof f)for(var g in f)({}).hasOwnProperty.call(f,g)&&(a[g]=f[g])}return a}function h(a){var b=[];for(var c in a)({}).hasOwnProperty.call(a,c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function j(a){i=g({},i,a)}function k(a,b){return(a&&a.promise?a.promise:i.promise||e.promise)(b)}function l(a){return k(a,function(b,c){var j=g({},e,i,a),k=j.xmlHttpRequest();k.open(j.method,j.params?j.url.split("?")[0]+"?"+h(j.params):j.url,!0),k.addEventListener(d.LOAD,function(){if(k.status>=200&&k.status<300){var a=null;k.responseText&&(a=j.raw===!0?k.responseText:j.load(k.responseText)),b(a)}else c(f(k))}),k.addEventListener(d.ABORT,function(){return c(f(k))}),k.addEventListener(d.ERROR,function(){return c(f(k))}),k.addEventListener(d.TIMEOUT,function(){return c(f(k))});for(var l in j.headers)({}).hasOwnProperty.call(j.headers,l)&&k.setRequestHeader(l,j.headers[l]);for(var l in j.events)({}).hasOwnProperty.call(j.events,l)&&k.addEventListener(l,j.events[l].bind(null,k),!1);var m="object"!=typeof j.data||j.raw?j.data:j.dump(j.data);void 0!==m?k.send(m):k.send()})}var c={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH",OPTIONS:"OPTIONS"},d={READY_STATE_CHANGE:"readystatechange",LOAD_START:"loadstart",PROGRESS:"progress",ABORT:"abort",ERROR:"error",LOAD:"load",TIMEOUT:"timeout",LOAD_END:"loadend"},e={method:c.GET,data:void 0,headers:{Accept:"application/json","Content-Type":"application/json"},dump:JSON.stringify,load:JSON.parse,xmlHttpRequest:function(){return new XMLHttpRequest},promise:function(a){return new Promise(a)}},i={};l.assign=g,l.urlEncode=h,l.configure=j,l.Methods=c,l.Events=d,l.defaults=e,l.get=function(a,b,d){return l(g({url:a,method:c.GET,params:b},d))},l.put=function(a,b,d){return l(g({url:a,method:c.PUT,data:b},d))},l.post=function(a,b,d){return l(g({url:a,method:c.POST,data:b},d))},l.patch=function(a,b,d){return l(g({url:a,method:c.PATCH,data:b},d))},l.del=function(a,b){return l(g({url:a,method:c.DELETE},b))},l.options=function(a,b){return l(g({url:a,method:c.OPTIONS},b))},b.exports=l});